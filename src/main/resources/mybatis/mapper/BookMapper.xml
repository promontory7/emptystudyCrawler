<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hehe.dao.BookMapper">
    <resultMap id="BaseResultMap" type="com.hehe.model.Book">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="id" jdbcType="BIGINT" property="id"/>
        <result column="ISBN" jdbcType="VARCHAR" property="isbn"/>
        <result column="name" jdbcType="VARCHAR" property="name"/>
        <result column="image" jdbcType="VARCHAR" property="image"/>
        <result column="promontion" jdbcType="VARCHAR" property="promontion"/>
        <result column="author" jdbcType="VARCHAR" property="author"/>
        <result column="publisher" jdbcType="VARCHAR" property="publisher"/>
        <result column="price" jdbcType="DECIMAL" property="price"/>
        <result column="url" jdbcType="VARCHAR" property="url"/>
        <result column="create_time" jdbcType="TIMESTAMP" property="createTime"/>
        <result column="modify_time" jdbcType="TIMESTAMP" property="modifyTime"/>
        <result column="validate" jdbcType="INTEGER" property="validate"/>
        <result column="item_id" jdbcType="VARCHAR" property="itemId"/>
    </resultMap>
    <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.hehe.model.BookWithBLOBs">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <result column="brief" jdbcType="LONGVARCHAR" property="brief"/>
        <result column="author_brief" jdbcType="LONGVARCHAR" property="authorBrief"/>
        <result column="catalog" jdbcType="LONGVARCHAR" property="catalog"/>
        <result column="digest" jdbcType="LONGVARCHAR" property="digest"/>
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        id, ISBN, name, image, promontion, author, publisher, price, url, create_time, modify_time,
        validate, item_id
    </sql>
    <sql id="Blob_Column_List">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        brief, author_brief, catalog, digest
    </sql>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="ResultMapWithBLOBs">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        ,
        <include refid="Blob_Column_List"/>
        from book
        where id = #{id,jdbcType=BIGINT}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from book
        where id = #{id,jdbcType=BIGINT}
    </delete>
    <insert id="insert" parameterType="com.hehe.model.BookWithBLOBs">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into book (id, ISBN, name,
        image, promontion, author,
        publisher, price, url,
        create_time, modify_time, validate,
        item_id, brief, author_brief,
        catalog, digest)
        values (#{id,jdbcType=BIGINT}, #{isbn,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR},
        #{image,jdbcType=VARCHAR}, #{promontion,jdbcType=VARCHAR}, #{author,jdbcType=VARCHAR},
        #{publisher,jdbcType=VARCHAR}, #{price,jdbcType=DECIMAL}, #{url,jdbcType=VARCHAR},
        #{createTime,jdbcType=TIMESTAMP}, #{modifyTime,jdbcType=TIMESTAMP}, #{validate,jdbcType=INTEGER},
        #{itemId,jdbcType=VARCHAR}, #{brief,jdbcType=LONGVARCHAR}, #{authorBrief,jdbcType=LONGVARCHAR},
        #{catalog,jdbcType=LONGVARCHAR}, #{digest,jdbcType=LONGVARCHAR})
    </insert>
    <insert id="insertSelective" parameterType="com.hehe.model.BookWithBLOBs">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into book
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="id != null">
                id,
            </if>
            <if test="isbn != null">
                ISBN,
            </if>
            <if test="name != null">
                name,
            </if>
            <if test="image != null">
                image,
            </if>
            <if test="promontion != null">
                promontion,
            </if>
            <if test="author != null">
                author,
            </if>
            <if test="publisher != null">
                publisher,
            </if>
            <if test="price != null">
                price,
            </if>
            <if test="url != null">
                url,
            </if>
            <if test="createTime != null">
                create_time,
            </if>
            <if test="modifyTime != null">
                modify_time,
            </if>
            <if test="validate != null">
                validate,
            </if>
            <if test="itemId != null">
                item_id,
            </if>
            <if test="brief != null">
                brief,
            </if>
            <if test="authorBrief != null">
                author_brief,
            </if>
            <if test="catalog != null">
                catalog,
            </if>
            <if test="digest != null">
                digest,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="id != null">
                #{id,jdbcType=BIGINT},
            </if>
            <if test="isbn != null">
                #{isbn,jdbcType=VARCHAR},
            </if>
            <if test="name != null">
                #{name,jdbcType=VARCHAR},
            </if>
            <if test="image != null">
                #{image,jdbcType=VARCHAR},
            </if>
            <if test="promontion != null">
                #{promontion,jdbcType=VARCHAR},
            </if>
            <if test="author != null">
                #{author,jdbcType=VARCHAR},
            </if>
            <if test="publisher != null">
                #{publisher,jdbcType=VARCHAR},
            </if>
            <if test="price != null">
                #{price,jdbcType=DECIMAL},
            </if>
            <if test="url != null">
                #{url,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
                #{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modifyTime != null">
                #{modifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="validate != null">
                #{validate,jdbcType=INTEGER},
            </if>
            <if test="itemId != null">
                #{itemId,jdbcType=VARCHAR},
            </if>
            <if test="brief != null">
                #{brief,jdbcType=LONGVARCHAR},
            </if>
            <if test="authorBrief != null">
                #{authorBrief,jdbcType=LONGVARCHAR},
            </if>
            <if test="catalog != null">
                #{catalog,jdbcType=LONGVARCHAR},
            </if>
            <if test="digest != null">
                #{digest,jdbcType=LONGVARCHAR},
            </if>
        </trim>
    </insert>
    <update id="updateByPrimaryKeySelective" parameterType="com.hehe.model.BookWithBLOBs">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update book
        <set>
            <if test="isbn != null">
                ISBN = #{isbn,jdbcType=VARCHAR},
            </if>
            <if test="name != null">
                name = #{name,jdbcType=VARCHAR},
            </if>
            <if test="image != null">
                image = #{image,jdbcType=VARCHAR},
            </if>
            <if test="promontion != null">
                promontion = #{promontion,jdbcType=VARCHAR},
            </if>
            <if test="author != null">
                author = #{author,jdbcType=VARCHAR},
            </if>
            <if test="publisher != null">
                publisher = #{publisher,jdbcType=VARCHAR},
            </if>
            <if test="price != null">
                price = #{price,jdbcType=DECIMAL},
            </if>
            <if test="url != null">
                url = #{url,jdbcType=VARCHAR},
            </if>
            <if test="createTime != null">
                create_time = #{createTime,jdbcType=TIMESTAMP},
            </if>
            <if test="modifyTime != null">
                modify_time = #{modifyTime,jdbcType=TIMESTAMP},
            </if>
            <if test="validate != null">
                validate = #{validate,jdbcType=INTEGER},
            </if>
            <if test="itemId != null">
                item_id = #{itemId,jdbcType=VARCHAR},
            </if>
            <if test="brief != null">
                brief = #{brief,jdbcType=LONGVARCHAR},
            </if>
            <if test="authorBrief != null">
                author_brief = #{authorBrief,jdbcType=LONGVARCHAR},
            </if>
            <if test="catalog != null">
                catalog = #{catalog,jdbcType=LONGVARCHAR},
            </if>
            <if test="digest != null">
                digest = #{digest,jdbcType=LONGVARCHAR},
            </if>
        </set>
        where id = #{id,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.hehe.model.BookWithBLOBs">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update book
        set ISBN = #{isbn,jdbcType=VARCHAR},
        name = #{name,jdbcType=VARCHAR},
        image = #{image,jdbcType=VARCHAR},
        promontion = #{promontion,jdbcType=VARCHAR},
        author = #{author,jdbcType=VARCHAR},
        publisher = #{publisher,jdbcType=VARCHAR},
        price = #{price,jdbcType=DECIMAL},
        url = #{url,jdbcType=VARCHAR},
        create_time = #{createTime,jdbcType=TIMESTAMP},
        modify_time = #{modifyTime,jdbcType=TIMESTAMP},
        validate = #{validate,jdbcType=INTEGER},
        item_id = #{itemId,jdbcType=VARCHAR},
        brief = #{brief,jdbcType=LONGVARCHAR},
        author_brief = #{authorBrief,jdbcType=LONGVARCHAR},
        catalog = #{catalog,jdbcType=LONGVARCHAR},
        digest = #{digest,jdbcType=LONGVARCHAR}
        where id = #{id,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKey" parameterType="com.hehe.model.Book">
        <!--
          WARNING - @mbg.generated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update book
        set ISBN = #{isbn,jdbcType=VARCHAR},
        name = #{name,jdbcType=VARCHAR},
        image = #{image,jdbcType=VARCHAR},
        promontion = #{promontion,jdbcType=VARCHAR},
        author = #{author,jdbcType=VARCHAR},
        publisher = #{publisher,jdbcType=VARCHAR},
        price = #{price,jdbcType=DECIMAL},
        url = #{url,jdbcType=VARCHAR},
        create_time = #{createTime,jdbcType=TIMESTAMP},
        modify_time = #{modifyTime,jdbcType=TIMESTAMP},
        validate = #{validate,jdbcType=INTEGER},
        item_id = #{itemId,jdbcType=VARCHAR}
        where id = #{id,jdbcType=BIGINT}
    </update>

    <update id="updateByISBN" parameterType="com.hehe.model.BookWithBLOBs">
  update book
    set
    name = #{name,jdbcType=VARCHAR},
    image = #{image,jdbcType=VARCHAR},
    promontion = #{promontion,jdbcType=VARCHAR},
    author = #{author,jdbcType=VARCHAR},
    publisher = #{publisher,jdbcType=VARCHAR},
    price = #{price,jdbcType=DECIMAL},
    url = #{url,jdbcType=VARCHAR},
    create_time = #{createTime,jdbcType=TIMESTAMP},
    modify_time = #{modifyTime,jdbcType=TIMESTAMP},
    validate = #{validate,jdbcType=INTEGER}
    item_id = #{itemId,jdbcType=VARCHAR}
  where ISBN = #{isbn,jdbcType=VARCHAR}
  </update>

    <update id="updatePriceByItemID" parameterType="com.hehe.model.BookWithBLOBs">
    update book
    set
    price = #{price,jdbcType=DECIMAL},
    modify_time = #{modifyTime,jdbcType=TIMESTAMP}
    where item_id = #{itemId,jdbcType=VARCHAR}
  </update>

    <select id="getItemIDwithoutPrice" resultType="java.lang.String">
  SELECT item_id  from book
    where price is NULL
  </select>

    <select id="selectAllUrl" resultType="java.lang.String">
    SELECT url  from book
  </select>
</mapper>